{"ast":null,"code":"import _defineProperty from \"/home/azureuser/sotby2.0/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/azureuser/sotby2.0/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/azureuser/sotby2.0/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/azureuser/sotby2.0/app/src/components/Form.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Select from 'react-select';\nimport { color, rgbToHex, Stack } from \"@mui/system\";\nimport \"../timeline.css\";\nvar END_POINT_ROOT = \"/\";\nvar COURSE_RESOURCE = \"courses\";\nvar parseData = function parseData(data) {\n  if (!data) {\n    return null;\n  }\n  var parsedData = JSON.parse(data);\n  var courseArray = [];\n  for (var i = 0; i < parsedData.length; i++) {\n    var course = {\n      value: parsedData[i].course_num,\n      label: parsedData[i].title\n    };\n    courseArray.push(course);\n  }\n  return courseArray;\n};\nvar getCourses = function getCourses(callBack) {\n  fetch(END_POINT_ROOT + COURSE_RESOURCE).then(function (response) {\n    return response.text();\n  }).then(function (data) {\n    callBack(parseData(data));\n  });\n};\nexport default function Form(_ref) {\n  var _this = this;\n  var title = _ref.title,\n    textObject = _ref.textObject,\n    callBack = _ref.callBack,\n    _ref$isCourse = _ref.isCourse,\n    isCourse = _ref$isCourse === void 0 ? false : _ref$isCourse,\n    iKey = _ref.iKey;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    input = _useState2[0],\n    setInput = _useState2[1]; // '' is the initial state value\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedOption = _useState4[0],\n    setSelectedOption = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoaded = _useState6[0],\n    setLoaded = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    courseArray = _useState8[0],\n    setCourseArray = _useState8[1];\n  console.log(iKey);\n  useEffect(function () {\n    if (isCourse) {\n      getCourses(function (data) {\n        setCourseArray(data);\n        setLoaded(true);\n      });\n    } else {\n      setLoaded(true);\n    }\n  }, []);\n  var renderForm = function renderForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: title + \" div\",\n      margin: '10px',\n      style: {\n        display: \"inline\",\n        position: \"sticky\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Stack, {\n      spacing: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, isCourse ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      name: \"Course\",\n      key: \"course label\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"Schedule Course\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Select, {\n      styles: {\n        option: function option(Styles) {\n          return _objectSpread({}, Styles, {\n            color: \"black\"\n          });\n        }\n      },\n      className: \"course-select\",\n      defaultValue: selectedOption,\n      onChange: setSelectedOption,\n      options: courseArray,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    })) : undefined, textObject.map(function (item, i) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: item + \" container\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        name: item + \" label\",\n        key: item + \" label\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, item), /*#__PURE__*/React.createElement(\"input\", {\n        name: item + \" input\",\n        key: item + \" input\",\n        onInput: function onInput(e) {\n          return setInput(_objectSpread({}, input, _defineProperty({}, item.split(\" \").join(\"\").toLowerCase(), e.target.value)));\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }));\n    }), isCourse ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-button\",\n      name: title + \" button\",\n      key: title + \" button\",\n      onClick: function onClick() {\n        return callBack(_objectSpread({\n          number: selectedOption.value,\n          title: selectedOption.label\n        }, input, {\n          datejoined: new Date().getTime()\n        }));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, \"Submit\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-button\",\n      name: title + \" button\",\n      key: title + \" button\",\n      onClick: function onClick() {\n        return callBack(_objectSpread({}, input, {\n          datejoined: new Date().getTime()\n        }));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"Submit\")));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, isLoaded ? renderForm() : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Loading\"));\n}","map":{"version":3,"names":["React","useEffect","useState","Select","color","rgbToHex","Stack","END_POINT_ROOT","COURSE_RESOURCE","parseData","data","parsedData","JSON","parse","courseArray","i","length","course","value","course_num","label","title","push","getCourses","callBack","fetch","then","response","text","Form","textObject","isCourse","iKey","input","setInput","selectedOption","setSelectedOption","isLoaded","setLoaded","setCourseArray","console","log","renderForm","display","position","option","Styles","undefined","map","item","e","split","join","toLowerCase","target","number","datejoined","Date","getTime"],"sources":["/home/azureuser/sotby2.0/app/src/components/Form.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Select from 'react-select';\nimport { color, rgbToHex, Stack } from \"@mui/system\";\nimport \"../timeline.css\"\n\nconst END_POINT_ROOT = \"/\"\nconst COURSE_RESOURCE = \"courses\"\n\nconst parseData = (data) => {\n  if (!data) {\n    return null;\n  }\n  const parsedData = JSON.parse(data);\n\n  let courseArray = [];\n  for (let i = 0; i < parsedData.length; i++) {\n    const course = { value: parsedData[i].course_num, label: parsedData[i].title };\n\n    courseArray.push(course);\n  }\n  return courseArray;\n}\n\nconst getCourses = (callBack) => {\n  fetch(END_POINT_ROOT + COURSE_RESOURCE)\n    .then(response => {\n      return response.text();\n    })\n    .then(data => {\n      callBack(parseData(data));\n    });\n}\n\nexport default function Form({ title, textObject, callBack, isCourse = false, iKey}) {\n  const [input, setInput] = useState({}); // '' is the initial state value\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [isLoaded, setLoaded] = useState(false);\n  const [courseArray, setCourseArray] = useState([]);\n  console.log(iKey)\n  useEffect(() => {\n    if (isCourse) {\n      getCourses((data) => {\n        setCourseArray(data);\n        setLoaded(true);\n      })\n    } else {\n      setLoaded(true);\n    }\n  }, [])\n\n  const renderForm = () => {\n    return (\n      <div key={title + \" div\"} margin={'10px'}  style={{ display: \"inline\", position: \"sticky\" }}>\n        <Stack spacing={1}>\n          {\n            isCourse ?\n              <React.Fragment>\n                <label name={\"Course\"} key={\"course label\"}>Schedule Course</label>\n                <br></br>\n                <Select styles={{option: (Styles) => ({...Styles, color: \"black\"})}}\n                  className=\"course-select\"\n                  defaultValue={selectedOption}\n                  onChange={setSelectedOption}\n                  options={courseArray}\n                />\n              </React.Fragment>\n              :\n              undefined\n          }\n          {textObject.map((item, i) => {\n            return (\n              <React.Fragment key={item + \" container\"}>\n                <label name={item + \" label\"} key={item + \" label\"}>{item}</label>\n                <input name={item + \" input\"} key={item + \" input\"} onInput={e => setInput({ ...input, [item.split(\" \").join(\"\").toLowerCase()]: e.target.value })} />\n              </React.Fragment>\n              \n            )\n          })}\n\n          {\n            isCourse ?\n              <button className=\"submit-button\" name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ number: selectedOption.value, title: selectedOption.label, ...input, datejoined: new Date().getTime() })}>Submit</button>\n              :\n              <button className=\"submit-button\" name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ ...input, datejoined: new Date().getTime() })}>Submit</button>\n          }\n        </Stack>\n      </div>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      {isLoaded ?\n        renderForm()\n        :\n        <p>Loading</p>\n      }\n    </React.Fragment>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}