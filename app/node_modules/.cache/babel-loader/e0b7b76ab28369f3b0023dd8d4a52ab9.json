{"ast":null,"code":"var _jsxFileName = \"/home/azureuser/sotby2.0/app/src/components/RowHeader_Week.jsx\";\nimport React from \"react\";\nimport SlotWeek from \"./Slot_Week\";\nimport ResourceSlotWeek from \"./Resource_Slot_Week\";\nimport { ReactSession } from 'react-client-session';\nimport Stack from '@mui/material/Stack';\nimport RemoveUserForm from \"./RemoveUserForm\";\nimport Popup from \"reactjs-popup\";\nimport \"../timeline.css\";\nexport default function RowHeader(_ref) {\n  var _this = this;\n  var position = _ref.position,\n    text = _ref.text,\n    width = _ref.width,\n    height = _ref.height,\n    removeFunction = _ref.removeFunction,\n    createCourse = _ref.createCourse,\n    currentDate = _ref.currentDate,\n    username = _ref.username;\n  function nFormat(n) {\n    if (n <= 9) {\n      return \"0\" + n;\n    } else {\n      return n;\n    }\n  }\n  var getFormatedDate = function getFormatedDate(dt) {\n    return dt.getFullYear() + \"-\" + nFormat(dt.getMonth() + 1) + \"-\" + nFormat(dt.getDate());\n  };\n  var createSlotDates = function createSlotDates() {\n    var slotDates = [];\n    for (var y = 0; y < width; y++) {\n      var newDate = new Date(currentDate);\n      newDate.setDate(currentDate.getDate() + y);\n      slotDates.push(getFormatedDate(newDate));\n    }\n    return slotDates;\n  };\n  var slotDates = createSlotDates();\n  var createRowSlots = function createRowSlots() {\n    var slots = [];\n    for (var y = 0; y < width; y++) {\n      for (var x = 0; x < height; x++) {\n        slots.push({\n          key: text + \"x:\" + (position.x + x) + \"y:\" + (position.y + y),\n          pos: {\n            x: position.x + x + 1,\n            y: position.y + y + 1\n          }\n        });\n      }\n    }\n    return slots;\n  };\n  var createSlot = function createSlot(item, i) {\n    if (item.pos.x % 4 == 0) {\n      return /*#__PURE__*/React.createElement(ResourceSlotWeek, {\n        key: item.key,\n        position: {\n          x: item.pos.x,\n          y: item.pos.y\n        }\n        // Rowheader has 3 rows associated with it, one that can create courses, one that can't (vacation row)\n        ,\n        createResource: item.pos.x % 4 == 0 && item.pos.x % 4 != 1 ? createCourse : null,\n        username: username,\n        date: slotDates[item.pos.y - 2],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(SlotWeek, {\n        key: item.key,\n        position: {\n          x: item.pos.x,\n          y: item.pos.y\n        }\n        // Rowheader has 3 rows associated with it, one that can create courses, one that can't (vacation row)\n        ,\n        createCourse: item.pos.x % 4 != 0 && item.pos.x % 4 != 1 ? createCourse : null,\n        name: text,\n        username: username,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      });\n    }\n  };\n\n  // const [slotArray, ] = useState(createRowSlots());\n\n  var slotArray = createRowSlots();\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-row-header\",\n    style: {\n      height: 20,\n      gridArea: position.x + \" / \" + position.y + \" / span 1 / span 6\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    direction: \"row\",\n    justifyContent: \"space-between\",\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, text), /*#__PURE__*/React.createElement(Popup, {\n    trigger: ReactSession.get(\"admin\") === 1 ? /*#__PURE__*/React.createElement(\"button\", {\n      name: text + \" remove\",\n      className: \"grid-row-header-close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, \"Remove\")) : undefined,\n    modal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-row-modal-bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(RemoveUserForm, {\n    removeFunction: removeFunction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 31\n    }\n  }), \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-row-label-container\",\n    style: {\n      gridArea: position.x + 1 + \" / \" + position.y + \" / span 3 / span 1\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-row-labels\",\n    style: {\n      gridArea: 1 + \" / \" + position.y + \" / span 1 / span 1\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"Morning\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-row-labels\",\n    style: {\n      gridArea: 2 + \" / \" + position.y + \" / span 1 / span 1\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, \"Afternoon\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-row-labels\",\n    style: {\n      gridArea: 3 + \" / \" + position.y + \" / span 1 / span 1\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Resources\"))), slotArray.map(function (item, i) {\n    return createSlot(item, i);\n  }));\n}","map":{"version":3,"names":["React","SlotWeek","ResourceSlotWeek","ReactSession","Stack","RemoveUserForm","Popup","RowHeader","position","text","width","height","removeFunction","createCourse","currentDate","username","nFormat","n","getFormatedDate","dt","getFullYear","getMonth","getDate","createSlotDates","slotDates","y","newDate","Date","setDate","push","createRowSlots","slots","x","key","pos","createSlot","item","i","slotArray","gridArea","get","undefined","map"],"sources":["/home/azureuser/sotby2.0/app/src/components/RowHeader_Week.jsx"],"sourcesContent":["import React from \"react\";\nimport SlotWeek from \"./Slot_Week\";\nimport ResourceSlotWeek from \"./Resource_Slot_Week\";\nimport { ReactSession } from 'react-client-session';\nimport Stack from '@mui/material/Stack';\nimport RemoveUserForm from \"./RemoveUserForm\"\nimport Popup from \"reactjs-popup\";\nimport \"../timeline.css\";\n\nexport default function RowHeader({position, text, width, height, removeFunction, createCourse, currentDate, username}) {\n    \n    function nFormat(n){ if(n <= 9){ return \"0\" + n } else { return n } }\n    \n    const getFormatedDate = (dt) => {\n        return dt.getFullYear() + \"-\" + nFormat((dt.getMonth()+1)) + \"-\" + nFormat(dt.getDate())\n    }\n    \n    const createSlotDates = () => {\n        let slotDates = []\n            for(let y = 0; y < width; y++) {\n                const newDate = new Date(currentDate)\n                newDate.setDate(currentDate.getDate() + y)\n                slotDates.push(getFormatedDate(newDate))\n            }\n        return slotDates\n    }\n    const slotDates = createSlotDates()\n\n    const createRowSlots = () => {\n        let slots = [];\n        for(let y = 0; y < width; y++) {\n            for(let x = 0; x < height; x++) {\n                slots.push({\n                    key: text + \"x:\" + (position.x + x) + \"y:\" + (position.y + y),\n                    pos: {x: position.x + x + 1, y: position.y + y + 1},\n                });\n\n            }\n        }\n        return slots;\n    }\n\n    const createSlot= (item, i) => {\n        if (item.pos.x % 4 == 0) {\n            return(\n                <ResourceSlotWeek key={item.key} position={{x: item.pos.x, y: item.pos.y}} \n                // Rowheader has 3 rows associated with it, one that can create courses, one that can't (vacation row)\n                createResource={item.pos.x % 4 == 0 && item.pos.x % 4 != 1 ? createCourse : null} \n                username={username} date={slotDates[item.pos.y - 2]}/>\n            );\n        } else {\n            return(\n                <SlotWeek key={item.key} position={{x: item.pos.x, y: item.pos.y}} \n                // Rowheader has 3 rows associated with it, one that can create courses, one that can't (vacation row)\n                createCourse={item.pos.x % 4 != 0 && item.pos.x % 4 != 1 ? createCourse : null} \n                name={text} username={username} />\n            );\n        }\n    }\n\n    // const [slotArray, ] = useState(createRowSlots());\n\n    let slotArray = createRowSlots();\n\n    return(\n        <React.Fragment>\n            <div className=\"grid-row-header\" style={{height: 20, gridArea: position.x + \" / \" + position.y + \" / span 1 / span 6\"}}>\n                 <Stack direction=\"row\" justifyContent=\"space-between\" spacing={1}>\n                    <p>{text}</p>\n                    {\n                        <Popup trigger={\n                            ReactSession.get(\"admin\") === 1 ? \n                            <button name={text + \" remove\"} className=\"grid-row-header-close\">\n                                <p>Remove</p>\n                            </button>\n                            :\n                            undefined\n                          } modal>\n                            <div className=\"add-row-modal-bg\">\n                              <RemoveUserForm \n                                removeFunction={removeFunction}/> {/*Coordinates are based on CSS grid, needs to be offset*/}\n                            </div>\n                            \n                        </Popup>\n\n\n                    }\n                </Stack>\n            </div>\n            <div className=\"grid-row-label-container\" style={{gridArea: (position.x + 1) + \" / \" + position.y + \" / span 3 / span 1\"}}>\n                <div className=\"grid-row-labels\" style={{gridArea: (1) + \" / \" + position.y + \" / span 1 / span 1\"}}>\n                    <p>Morning</p>\n                </div>\n                <div className=\"grid-row-labels\" style={{gridArea: (2) + \" / \" + position.y + \" / span 1 / span 1\"}}>\n                    <p>Afternoon</p>\n                </div>\n                <div className=\"grid-row-labels\" style={{gridArea: (3) + \" / \" + position.y + \" / span 1 / span 1\"}}>\n                    <p>Resources</p>\n                </div>\n            </div>\n            {slotArray.map((item, i) => {\n                return (\n                    createSlot(item, i)\n                )\n            })}\n        </React.Fragment>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}