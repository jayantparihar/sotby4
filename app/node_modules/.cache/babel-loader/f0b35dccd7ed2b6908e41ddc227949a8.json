{"ast":null,"code":"import _slicedToArray from \"/home/azureuser/sotby2.0/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/azureuser/sotby2.0/app/src/resources/create_resource.js\";\nimport { useState } from 'react';\nimport { ReactSession } from 'react-client-session';\nimport styles from './create_resource.module.css';\nimport './create_resource.module.css';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport AdminNav from \"../../src/components/AdminNav\";\nimport { Link } from 'react-router-dom';\nimport logo from '../images/BCIT_logo.png';\nfunction isAdmin() {\n  var userStatus = ReactSession.get(\"admin\");\n  if (userStatus === 1) {\n    return true;\n  }\n  return false;\n}\nfunction Create_resource(socket) {\n  socket = socket.socket;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    model_num = _useState2[0],\n    setModelNum = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    model_name = _useState4[0],\n    setModelName = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    quantity_total = _useState6[0],\n    setQuantityTotal = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    model_location = _useState8[0],\n    setModelLocation = _useState8[1];\n  var create_resource = function create_resource(e) {\n    e.preventDefault();\n    document.getElementById(\"successMessage\").style.color = 'Red';\n    document.getElementById(\"successMessage\").style.fontWeight = 'Bold';\n    if (!model_num) {\n      document.getElementById(\"successMessage\").innerText = \"Please enter a model number.\";\n      return;\n    }\n    if (!model_name) {\n      document.getElementById(\"successMessage\").innerText = \"Please enter a model name.\";\n      return;\n    }\n    if (!quantity_total || isNaN(quantity_total) || quantity_total <= 0) {\n      document.getElementById(\"successMessage\").innerText = \"Please enter a valid quantity\";\n      return;\n    }\n    if (!model_location) {\n      document.getElementById(\"successMessage\").innerText = \"Please enter a model location.\";\n      return;\n    }\n    var new_resource = {\n      model_num: model_num,\n      model_name: model_name,\n      quantity_total: quantity_total,\n      model_location: model_location\n    };\n    socket.emit('resourceAdded', new_resource, null);\n\n    // feedback upon successful creation\n    socket.on('resourceAdded', function (user) {\n      document.getElementById(\"successMessage\").innerText = \"Resource successfully created.\";\n      document.getElementById(\"successMessage\").style.color = 'Green';\n      document.getElementById(\"successMessage\").style.fontWeight = 'Bold';\n    });\n\n    // displays error msg upon failure \n    socket.on('error', function (error) {\n      document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\n      document.getElementById(\"successMessage\").style.color = 'Red';\n      document.getElementById(\"successMessage\").style.fontWeight = 'Bold';\n    });\n  };\n  return isAdmin() ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AdminNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"logo\",\n    height: \"150\",\n    width: \"170\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 26\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: create_resource,\n    className: styles['resource-form'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, \"Create Resource\"), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Model Number:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"new-resource-input\",\n    type: \"text\",\n    placeholder: \"Model Number...\",\n    value: model_num,\n    onChange: function onChange(e) {\n      return setModelNum(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Model Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"new-resource-input\",\n    type: \"text\",\n    placeholder: \"Model Name...\",\n    value: model_name,\n    onChange: function onChange(e) {\n      return setModelName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Quantity Total:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"new-resource-input\",\n    type: \"text\",\n    placeholder: \"Quantity Total...\",\n    value: quantity_total,\n    onChange: function onChange(e) {\n      return setQuantityTotal(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, \"Model Location:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"new-resource-input\",\n    type: \"text\",\n    placeholder: \"Model Location...\",\n    value: model_location,\n    onChange: function onChange(e) {\n      return setModelLocation(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, \"Create Resource\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"successMessage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }))) : window.location.href = \"/\";\n}\nexport default Create_resource;","map":{"version":3,"names":["useState","ReactSession","styles","React","AdminNav","Link","logo","isAdmin","userStatus","get","Create_resource","socket","model_num","setModelNum","model_name","setModelName","quantity_total","setQuantityTotal","model_location","setModelLocation","create_resource","e","preventDefault","document","getElementById","style","color","fontWeight","innerText","isNaN","new_resource","emit","on","user","error","target","value","window","location","href"],"sources":["/home/azureuser/sotby2.0/app/src/resources/create_resource.js"],"sourcesContent":["import { useState } from 'react'\nimport { ReactSession } from 'react-client-session';\nimport styles from './create_resource.module.css'\nimport './create_resource.module.css'\nimport React from 'react'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport AdminNav from \"../../src/components/AdminNav\";\nimport { Link } from 'react-router-dom'\nimport logo from '../images/BCIT_logo.png'\n\nfunction isAdmin() {\n    let userStatus = ReactSession.get(\"admin\");\n    if (userStatus === 1) {\n        return true;\n    }\n    return false;\n}\n\nfunction Create_resource(socket) {\n    socket = socket.socket;\n    const [model_num, setModelNum] = useState('');\n    const [model_name, setModelName] = useState('');\n    const [quantity_total, setQuantityTotal] = useState('');\n    const [model_location, setModelLocation] = useState('');\n\n    const create_resource = (e) => {\n        e.preventDefault();\n        document.getElementById(\"successMessage\").style.color = 'Red';\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n        if (!model_num) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model number.\";\n            return;\n        }\n\n        if (!model_name) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model name.\";\n            return;\n        }\n\n        if (!quantity_total || isNaN(quantity_total) || quantity_total <= 0) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a valid quantity\";\n            return;\n        }\n\n        if (!model_location) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model location.\";\n            return;\n        }\n\n        const new_resource = {\n            model_num: model_num,\n            model_name: model_name,\n            quantity_total: quantity_total,\n            model_location: model_location\n        };\n        socket.emit('resourceAdded', new_resource, null);\n\n        // feedback upon successful creation\n        socket.on('resourceAdded', (user) => {\n            document.getElementById(\"successMessage\").innerText = \"Resource successfully created.\"\n            document.getElementById(\"successMessage\").style.color = 'Green';\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n        });\n\n        // displays error msg upon failure \n        socket.on('error', (error) => {\n            document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\n            document.getElementById(\"successMessage\").style.color = 'Red';\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n\n        });\n    }\n\n    return isAdmin() ? (\n        <>\n        <AdminNav></AdminNav>\n        <label><br/></label>\n        <div align=\"center\">\n            <Link to=\"/\"><img src={logo} alt='logo' height=\"150\" width=\"170\" ></img></Link>\n            </div>\n                    <form onSubmit={create_resource} className={styles['resource-form']}>\n                        <h2>Create Resource</h2>\n                        <label>\n        <span>Model Number:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Model Number...\"\n                            value={model_num}\n                            onChange={(e) => setModelNum(e.target.value)} />\n              </label>\n              <label>\n        <span>Model Name:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Model Name...\"\n                            value={model_name}\n                            onChange={(e) => setModelName(e.target.value)} />\n              </label>\n              <label>\n        <span>Quantity Total:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Quantity Total...\"\n                            value={quantity_total}\n                            onChange={(e) => setQuantityTotal(e.target.value)}/>\n              </label>\n              <label>\n        <span>Model Location:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Model Location...\"\n                            value={model_location}\n                            onChange={(e) => setModelLocation(e.target.value)}/>\n              </label>\n        <button >Create Resource</button>\n        <p id=\"successMessage\"></p>\n                    </form>\n                    </>\n    ) : window.location.href = \"/\"\n}\n\nexport default Create_resource\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}